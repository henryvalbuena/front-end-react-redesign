{"version":3,"sources":["components/modal/LatteModal.module.css","components/header/Header.module.css","components/footer/Footer.module.css","components/user/Messages.module.css","components/home/Home.module.css","components/latte/CreateLatte.module.css","components/latte/Latte.module.css","containers/Main.module.css","components/latte/LatteIngredients.module.css","components/latte/Lattes.module.css","App.module.css","helpers/processForm.js","helpers/getAuthToken.js","services/isAuthorized.js","environments/environment.js","services/apiService.js","containers/Main.js","components/home/Home.js","components/header/Header.js","components/footer/Footer.js","components/latte/CreateLatte.js","components/latte/LatteIngredients.js","components/latte/Latte.js","components/latte/Lattes.js","components/user/User.js","components/modal/LatteModalIngredient.js","components/modal/LatteModalIngredientList.js","components/modal/LatteModal.js","components/user/Messages.js","App.js","serviceWorker.js","index.js","components/user/User.module.css"],"names":["module","exports","processForm","payload","ingredientName","parts","color","parsedPayload","title","latteName","value","ingredients","name","Symbol","iterator","n","p","c","obj","x","length","push","getObj","parseInt","getAuthToken","token","window","location","href","split","endIndex","indexOf","slice","isAuthorized","parsedToken","base64","replace","jsonPayload","decodeURIComponent","atob","map","charCodeAt","toString","join","JSON","parse","parseJwt","Date","now","exp","permissions","includes","environment","Boolean","hostname","match","apiURL","auth0","url","audience","clientId","callbackURL","axiosManager","method","endpoint","a","axios","baseURL","data","responseType","headers","res","postLattes","getLattes","editLattes","id","deleteLattes","Main","props","className","styles","main","children","Home","container","text","line","arrow","Header","header","home","to","left","dash","right","Footer","footer","iconA","icon","iconB","CreateLatte","createDrink","onClick","openModal","LatteIngredients","partition","reduce","layers","i","style","backgroundColor","height","key","Latte","edit","latteBox","Lattes","latteList","mapLattes","l","lattesContainer","User","hangleLogout","buildURL","userBox","login","textBox","LatteModalIngredient","ingredient","add","remove","lableBox","labels","inputs","type","defaultValue","btns","red","LatteModalIngredientList","idGenerator","Math","floor","random","state","counter","maxIngredients","newList","list","setState","index","findIndex","splice","latte","this","Component","LatteModal","nextLatte","isEdit","editMode","latteTitle","latteId","display","modalContainer","modalContent","preview","form","onSubmit","event","handleForm","inputName","removeLatte","cancel","closeModal","errorCodeMappings","Messages","message","level","close","MessageLevel","App","isModalOpen","isEditMode","closeAlert","userMessage","render","editLatte","latteData","latteDataList","filter","latteToEdit","authToken","then","catch","err","msg","response","status","preventDefault","newLatte","target","dataList","lattes","updatedDataList","auth","userMsg","console","log","body","exact","path","renderUserMessage","renderModal","renderCreateLatte","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.88a8d1a9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContainer\":\"LatteModal_modalContainer__1EXIY\",\"modalContent\":\"LatteModal_modalContent__1EAX0\",\"animateModal\":\"LatteModal_animateModal__2En0j\",\"title\":\"LatteModal_title__IZiSw\",\"latteName\":\"LatteModal_latteName__3Kp1L\",\"lableBox\":\"LatteModal_lableBox__3SnLs\",\"labels\":\"LatteModal_labels__3q6vj\",\"inputs\":\"LatteModal_inputs__r6Y58\",\"btns\":\"LatteModal_btns__30BNw\",\"red\":\"LatteModal_red__2f8hY\",\"cancel\":\"LatteModal_cancel__waDvz\",\"icon\":\"LatteModal_icon__2Y7Bi\",\"inputName\":\"LatteModal_inputName__bzLNC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Header_home__2Hz-B\",\"left\":\"Header_left__JRIOx\",\"right\":\"Header_right__CK_dd\",\"dash\":\"Header_dash__3E5mK\",\"header\":\"Header_header__1MOL-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__BKhgK\",\"iconA\":\"Footer_iconA__1HXbG\",\"iconB\":\"Footer_iconB__3nupA\",\"icon\":\"Footer_icon__1-k_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Messages_container__1ASQ4\",\"shake\":\"Messages_shake__3i4H5\",\"textBox\":\"Messages_textBox__1RWtO\",\"text\":\"Messages_text__aa8Mg\",\"close\":\"Messages_close__33iJq\",\"error\":\"Messages_error__1JTZw\",\"warning\":\"Messages_warning__3prjE\",\"info\":\"Messages_info__oSlOU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__Pn020\",\"text\":\"Home_text__22ldf\",\"line\":\"Home_line__yE-Vp\",\"change\":\"Home_change__yaolK\",\"arrow\":\"Home_arrow__3CW3N\",\"arrow-jump\":\"Home_arrow-jump__1Krmi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CreateLatte_container__1P4W2\",\"createDrink\":\"CreateLatte_createDrink__3n1Yj\",\"text\":\"CreateLatte_text__2zabn\",\"icon\":\"CreateLatte_icon__garnm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"latteBox\":\"Latte_latteBox__3z4Bo\",\"latteName\":\"Latte_latteName__2CJsX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__LmKsS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"LatteIngredients_ingredients__1Olid\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lattesContainer\":\"Lattes_lattesContainer__21ZHg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"App_body__ZTvxg\"};","function processForm(payload) {\n  const { ingredientName, parts, color, latteName } = payload;\n  let parsedPayload = {\n    title: latteName.value,\n    ingredients: [\n      {\n        name: null,\n        parts: null,\n        color: null,\n      },\n    ],\n  };\n  // Two options, is one object or is an array\n  if (isIterable(ingredientName)) {\n    parsedPayload.ingredients = getObj(ingredientName, parts, color);\n  } else {\n    parsedPayload.ingredients[0].name = ingredientName.value;\n    parsedPayload.ingredients[0].parts = parseInt(parts.value);\n    parsedPayload.ingredients[0].color = color.value;\n  }\n  return parsedPayload;\n}\n\nfunction isIterable(obj) {\n  return typeof obj[Symbol.iterator] === \"function\";\n}\n\nfunction getObj(n, p, c) {\n  let obj = [];\n  for (let x = 0; x < n.length; x++) {\n    obj.push({\n      name: n[x].value,\n      parts: p[x].value,\n      color: c[x].value,\n    });\n  }\n  return obj;\n}\n\nexport default processForm;\n","const getAuthToken = () => {\n  let url = window.location.href;\n  let token = url.split(\"access_token=\")[1];\n  if (token) {\n    let endIndex = token.indexOf(\"&\");\n    token = token.slice(0, endIndex);\n    return token;\n  }\n};\n\nexport default getAuthToken;\n","const parseJwt = (token) => {\n  var base64Url = token.split(\".\")[1];\n  var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  var jsonPayload = decodeURIComponent(\n    atob(base64)\n      .split(\"\")\n      .map(function (c) {\n        return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n      })\n      .join(\"\")\n  );\n\n  return JSON.parse(jsonPayload);\n};\n\nconst isAuthorized = (token) => {\n  const parsedToken = parseJwt(token);\n  const currentTime = parseInt(Date.now() / 1000);\n  if (currentTime > parsedToken.exp)\n    return false;\n  if (!parsedToken.permissions.includes(\"delete:latte\"))\n    return false;\n  if (!parsedToken.permissions.includes(\"patch:latte\"))\n    return false;\n  if (!parsedToken.permissions.includes(\"post:latte\"))\n    return false;\n  return true;\n}\n\nexport default isAuthorized;\n","const development = {\n  apiURL: \"http://localhost:5000/api\",\n  auth0: {\n    url: \"coffe-shop-project\", // the auth0 domain prefix\n    audience: \"drinks\", // the audience set for the auth0 app\n    clientId: \"SuLculVALk6l2oZ7aFFQUuZZ8N6lZUrH\", // the client id generated for the auth0 app\n    callbackURL: \"http://localhost:3000/latte-machine/lattes\", // the base url of the running react application.\n  },\n};\n\nconst ghpages = {\n  apiURL: \"https://mothership-v2.herokuapp.com/api\",\n  auth0: {\n    url: \"coffe-shop-project\", // the auth0 domain prefix\n    audience: \"drinks\", // the audience set for the auth0 app\n    clientId: \"SuLculVALk6l2oZ7aFFQUuZZ8N6lZUrH\", // the client id generated for the auth0 app\n    callbackURL: \"http://henryis.me/latte-machine\", // the base url of the running react application.\n  },\n}\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nconst environment = isLocalhost ? development : ghpages;\n\nexport default environment;\n","import axios from \"axios\";\nimport environment from \"../environments/environment\";\n\nconst apiURL = environment.apiURL;\n\nconst axiosManager = async (method, token, endpoint, payload = null) => {\n  const res = await axios({\n    method: method,\n    baseURL: apiURL,\n    url: endpoint,\n    data: payload ? payload : null,\n    responseType: \"json\",\n    headers: {\n      \"Authorization\": `Bearer ${token}`,\n    },\n  });\n  return res.data;\n};\n\nexport const postLattes = async (payload, token) => {\n  return axiosManager(\"post\", token, \"/latte\", payload);\n};\n\nexport const getLattes = async (token) => {\n  return axiosManager(\"get\", token, \"/latte\");\n};\n\nexport const editLattes = async (id, payload, token) => {\n  return axiosManager(\"patch\", token, `/latte/${id}`, payload);\n};\n\nexport const deleteLattes = async (id, token) => {\n  return axiosManager(\"delete\", token, `/latte/${id}`);\n};\n","import React from \"react\";\n\nimport styles from \"./Main.module.css\";\n\nfunction Main(props) {\n  return <div className={styles.main}>{props.children}</div>;\n}\n\nexport default Main;\n","import React from \"react\";\n\nimport styles from \"./Home.module.css\";\n\nfunction Home(props) {\n  return (\n    <div className={styles.container}>\n      <div className={styles.text}>Welcome</div>\n      <div className={styles.line}></div>\n      <span className={[styles.arrow, \"material-icons\"].join(\" \")}>\n        expand_more\n      </span>\n    </div>\n  );\n}\n\nexport default Home;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport styles from \"./Header.module.css\";\n\nfunction Header(props) {\n  return (\n    <div className={styles.header}>\n      <NavLink className={styles.home} to=\"/latte-machine\">\n        <span className={styles.left}>Latte</span>\n        <span className={styles.dash}>-</span>\n        <span className={styles.right}>Machine</span>\n      </NavLink>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport styles from \"./Footer.module.css\";\n\nfunction Footer(props) {\n  return (\n      <div className={styles.footer}>\n        <NavLink className={styles.iconA} to=\"/latte-machine/lattes\">\n          <i className={[styles.icon, \"material-icons\"].join(\" \")}>\n            local_cafe\n          </i>\n          <div>Lattes</div>\n        </NavLink>\n        <NavLink className={styles.iconB} to=\"/latte-machine/user\">\n          <i className={[styles.icon, \"material-icons\"].join(\" \")}>\n            account_box\n          </i>\n          <div>User</div>\n        </NavLink>\n      </div>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nimport styles from \"./CreateLatte.module.css\";\n\nfunction CreateLatte(props) {\n  return (\n    <div className={styles.container}>\n      <div className={styles.createDrink} onClick={props.openModal()}>\n        <div className={styles.text}>Create Latte</div>\n        <i className={[styles.icon, \"material-icons\"].join(\" \")}>cancel</i>\n      </div>\n    </div>\n  );\n}\n\nexport default CreateLatte;\n","import React from \"react\";\n\nimport styles from \"./LatteIngredients.module.css\";\n\nfunction LatteIngredients({ingredients}) {\n  const maxHeight = 100;\n  const partition = ingredients.reduce((a, {parts}) => a + parseInt(parts), 0);\n  \n  const layers = ingredients.map(({color, parts }, i) => {\n    let style = { backgroundColor: color, height: `${(parts * maxHeight) / partition}%` };\n    return <div key={i} style={style}></div>;\n  });\n  return <div className={styles.ingredients}>{layers}</div>;\n}\n\nexport default LatteIngredients;\n ","import React from \"react\";\n\nimport LatteIngredients from \"./LatteIngredients\";\n\nimport styles from \"./Latte.module.css\";\n\nfunction Latte({ingredients, title, edit}) {\n  return (\n      <div className={styles.latteBox} onClick={edit}>\n        <div className={styles.latteName}>{title}</div>\n        <LatteIngredients ingredients={ingredients} />\n      </div>\n  );\n}\n\nexport default Latte;\n","import React from \"react\";\n\nimport Latte from \"./Latte\";\n\nimport styles from \"./Lattes.module.css\";\n\nfunction Lattes({ latteList, edit }) {\n  let mapLattes = latteList.map((l) => {\n    return (\n      <Latte\n        key={l.id}\n        title={l.title}\n        ingredients= {l.ingredients}\n        edit={() => edit(l.id)}\n      />\n    );\n  });\n  return <div className={styles.lattesContainer}>{mapLattes}</div>;\n}\n\nexport default Lattes;\n","import React from \"react\";\n\nimport environment from \"../../environments/environment\";\n\nimport styles from \"./User.module.css\";\n\nconst auth0 = environment.auth0;\n\nfunction User({ token, hangleLogout }) {\n  let buildURL =\n    `https://${auth0.url}.auth0.com/authorize?audience=${auth0.audience}` +\n    `&response_type=token&client_id=${auth0.clientId}&redirect_uri=${auth0.callbackURL}`;\n\n  let renderToken = () => {\n    if (token)\n      return (\n        <div className={styles.userBox}>\n          <button onClick={hangleLogout()} className={styles.login}>\n            LOG OUT\n          </button>\n          <div className={styles.textBox}>\n            <span className={styles.text}>{token}</span>\n          </div>\n        </div>\n      );\n    else\n      return (\n        <div className={styles.userBox}>\n          <a href={buildURL} className={styles.login}>\n            LOG IN\n          </a>\n        </div>\n      );\n  };\n\n  return <div className={styles.container}>{renderToken()}</div>;\n}\n\nexport default User;\n","import React from \"react\";\n\nimport styles from \"./LatteModal.module.css\";\n\nfunction LatteModalIngredient({ ingredient, add, remove, id }) {\n  return (\n    <div className={styles.lableBox}>\n      <label className={styles.labels}>Ingredient Name</label>\n      <input\n        className={styles.inputs}\n        type=\"text\"\n        name=\"ingredientName\"\n        defaultValue={ingredient.name}\n      />\n      <label className={styles.labels}>Parts</label>\n      <select name=\"parts\" defaultValue={ingredient.parts}>\n        <option value=\"1\">1</option>\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n      </select>\n      <label className={styles.labels}>Color</label>\n      <input\n        className={styles.inputs}\n        type=\"color\"\n        name=\"color\"\n        defaultValue={ingredient.color}\n      />\n      <span className={styles.btns} onClick={() => remove(id)}>\n        <i className={[styles.icon, styles.red, \"material-icons\"].join(\" \")}>\n          close\n        </i>\n      </span>\n      <span className={styles.btns} onClick={() => add()}>\n        <i className={[styles.icon, \"material-icons\"].join(\" \")}>add</i>\n      </span>\n    </div>\n  );\n}\n\nexport default LatteModalIngredient;\n","import React, { Component } from \"react\";\n\nimport LatteModalIngredient from \"./LatteModalIngredient\";\n\nclass LatteModalIngredientList extends Component {\n  constructor(props) {\n    super(props);\n    let newList = [];\n    let counter = 0;\n    const latte = props.latte;\n    if (latte) {\n      newList = latte.ingredients.map((l, i) => {\n        return (\n          <LatteModalIngredient\n            key={i}\n            ingredient={l}\n            add={this.add}\n            remove={this.remove}\n            id={i}\n          />\n        );\n      });\n      counter = newList.length - 1;\n    } else {\n      const id = this.idGenerator();\n      newList.push(\n        <LatteModalIngredient\n          key={id}\n          ingredient={{}}\n          add={this.add}\n          remove={this.remove}\n          id={id}\n        />\n      );\n    }\n    this.maxIngredients = 3;\n    this.state = {\n      list: newList,\n      counter: counter,\n    };\n  }\n\n  idGenerator = () => {\n    return Math.floor(Math.random() * 9999);\n  };\n\n  add = () => {\n    if (this.state.counter < this.maxIngredients) {\n      let newList = [...this.state.list];\n      const id = this.idGenerator();\n      newList.push(\n        <LatteModalIngredient\n          key={id}\n          ingredient={{}}\n          add={this.add}\n          remove={this.remove}\n          id={id}\n        />\n      );\n      this.setState({\n        list: newList,\n        counter: this.state.counter + 1,\n      });\n    }\n  };\n\n  remove = (id) => {\n    if (this.state.counter > 0) {\n      const index = this.state.list.findIndex(\n        (l) => parseInt(l.key) === parseInt(id)\n      );\n      if (index >= 0) {\n        let newList = [...this.state.list];\n        newList.splice(index, 1);\n        this.setState({\n          list: newList,\n          counter: this.state.counter - 1,\n        });\n      }\n    }\n  };\n\n  render() {\n    return this.state.list;\n  }\n}\n\nexport default LatteModalIngredientList;\n","import React from \"react\";\n\nimport LatteModalIngredientList from \"./LatteModalIngredientList\";\n\nimport styles from \"./LatteModal.module.css\";\n\nfunction LatteModal(props) {\n  const nextLatte = props;\n\n  let isEdit = nextLatte.editMode;\n  let latteTitle = isEdit ? nextLatte.latte.title : \"\";\n  let latteId = isEdit ? nextLatte.latte.id : null;\n  let title = isEdit ? `Edit ${latteTitle}` : \"Create Latte\";\n\n  let nextIngredients = () => {\n    if (isEdit) {\n      return <LatteModalIngredientList latte={nextLatte.latte} />;\n    } else {\n      return <LatteModalIngredientList />;\n    }\n  };\n\n  return (\n    <div\n      style={{ display: props.display ? \"block\" : \"none\" }}\n      className={styles.modalContainer}\n    >\n      <div className={styles.modalContent}>\n        <h2 className={styles.title}>{title}</h2>\n        <div className={styles.preview}></div>\n        <form\n          className={styles.form}\n          onSubmit={(event) => props.handleForm(event)}\n        >\n          <div className={styles.latteName}>\n            <label className={styles.labels}>Latte Name</label>\n            <input\n              className={[styles.inputs, styles.inputName].join(\" \")}\n              type=\"text\"\n              id=\"latteName\"\n              name=\"latteName\"\n              defaultValue={latteTitle}\n            />\n          </div>\n          {nextIngredients()}\n          <button className={styles.btns} type=\"submit\">\n            SAVE\n          </button>\n          <button\n            className={[styles.btns, styles.red].join(\" \")}\n            onClick={() => props.removeLatte(latteId)}\n            type=\"button\"\n          >\n            DELETE\n          </button>\n          <button\n            className={[styles.btns, styles.cancel].join(\" \")}\n            onClick={() => props.closeModal()}\n            type=\"button\"\n          >\n            CANCEL\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default LatteModal;\n","import React from \"react\";\n\nimport styles from \"./Messages.module.css\";\n\nconst errorCodeMappings = {\n  \"400\": \"Latte not created\",\n  \"401\": \"Not authorized\",\n  \"404\": \"Not found\",\n  \"409\": \"Duplicated latte\",\n  \"500\": \"Server Error\",\n  \"Network Error\": \"Server Error\"\n};\n\nexport function Messages({ message, level, close }) {\n  return (\n    <div className={styles.container}>\n      <div className={[styles.textBox, styles[level]].join(\" \")}>\n        <div className={styles.close} onClick={close()}>\n          <i className=\"material-icons\">close</i>\n        </div>\n        <div className={styles.text}>{errorCodeMappings[message]}</div>\n      </div>\n    </div>\n  );\n}\n\nexport const MessageLevel = {\n  warning: \"warning\",\n  error: \"error\",\n  info: \"info\",\n};\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport processForm from \"./helpers/processForm\";\nimport getAuthToken from \"./helpers/getAuthToken\";\nimport isAuthorized from \"./services/isAuthorized\";\nimport {\n  getLattes,\n  postLattes,\n  editLattes,\n  deleteLattes,\n} from \"./services/apiService\";\n\nimport Main from \"./containers/Main\";\nimport Home from \"./components/home/Home\";\nimport Header from \"./components/header/Header\";\nimport Footer from \"./components/footer/Footer\";\nimport CreateLatte from \"./components/latte/CreateLatte\";\nimport Lattes from \"./components/latte/Lattes\";\nimport User from \"./components/user/User\";\nimport LatteModal from \"./components/modal/LatteModal\";\nimport { Messages, MessageLevel } from \"./components/user/Messages\";\n\nimport styles from \"./App.module.css\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isModalOpen: false,\n      isEditMode: false,\n      latteToEdit: {},\n      latteDataList: [],\n      authToken: null,\n      isAuthorized: false,\n      userMessage: { render: false, message: null, level: null },\n    };\n  }\n\n  async componentDidMount() {\n    const token = getAuthToken();\n    let auth = null;\n    let dataList = [];\n    let userMsg = { render: false };\n    try {\n      if (this.state.latteDataList.length === 0) {\n        const data = await getLattes(token);\n        for (let latte of data.lattes) {\n          dataList.push({\n            id: latte.id,\n            title: latte.title,\n            ingredients: [...latte.ingredients],\n          });\n        }\n      }\n    } catch (err) {\n      const msg = err.response ? err.response.status : err.message;\n      console.log(msg)\n      userMsg = {\n        render: true,\n        message: msg,\n        level: MessageLevel.error,\n      };\n    }\n    if (token) {\n      auth = isAuthorized(token);\n    }\n    this.setState({\n      ...this.state,\n      latteDataList: dataList,\n      authToken: token,\n      isAuthorized: auth,\n      userMessage: userMsg,\n    });\n  }\n\n  openModal = () => {\n    this.setState({\n      ...this.state,\n      isModalOpen: true,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      ...this.state,\n      isModalOpen: false,\n      isEditMode: false,\n    });\n  };\n\n  closeAlert = () => {\n    this.setState({\n      ...this.state,\n      userMessage: { render: false },\n    });\n  };\n\n  editLatte = (id) => {\n    if (!this.state.isAuthorized) return;\n    let latteData = this.state.latteDataList.filter(\n      (x) => parseInt(x.id) === parseInt(id)\n    );\n    this.setState({\n      ...this.state,\n      isEditMode: true,\n      isModalOpen: true,\n      latteToEdit: latteData[0],\n    });\n  };\n\n  removeLatte = (id) => {\n    let latteList = [...this.state.latteDataList];\n    if (this.state.isAuthorized && id !== null) {\n      let remove = deleteLattes(id, this.state.authToken);\n      remove\n        .then((res) => {\n          let index = latteList.findIndex(\n            (l) => parseInt(l.id) === parseInt(id)\n          );\n          latteList.splice(index, 1);\n          this.setState({\n            ...this.state,\n            isEditMode: false,\n            isModalOpen: false,\n            latteDataList: latteList,\n          });\n        })\n        .catch((err) => {\n          const msg = err.response ? err.response.status : err.message;\n          this.setState({\n            ...this.state,\n            isEditMode: false,\n            isModalOpen: false,\n            userMessage: {\n              render: true,\n              message: msg,\n              level: MessageLevel.error,\n            },\n          });\n        });\n    } else {\n      this.setState({\n        ...this.state,\n        isEditMode: false,\n        isModalOpen: false,\n        userMessage: { render: false },\n      });\n    }\n  };\n\n  hangleLogout = () => {\n    if (this.state.authToken)\n      this.setState({\n        ...this.state,\n        authToken: null,\n        isAuthorized: false,\n      });\n  };\n\n  handleForm = (event) => {\n    event.preventDefault();\n    if (!this.state.isAuthorized) {\n      this.setState({\n        ...this.state,\n        isModalOpen: false,\n        isEditMode: false,\n      });\n      return;\n    }\n    const newLatte = processForm(event.target);\n    let dataList = [...this.state.latteDataList];\n    if (this.state.isEditMode) {\n      const id = this.state.latteToEdit.id;\n      let patch = editLattes(id, newLatte, this.state.authToken);\n      patch.then((data) => {\n        const latte = data.lattes[0];\n        const updatedDataList = dataList.map((l) => {\n          if (parseInt(l.id) === parseInt(id)) return latte;\n          else return l;\n        });\n        this.setState({\n          ...this.state,\n          isModalOpen: false,\n          isEditMode: false,\n          latteDataList: updatedDataList,\n        });\n      });\n    } else {\n      try {\n        const post = postLattes(newLatte, this.state.authToken);\n        post\n          .then((data) => {\n            const latte = data.lattes[0];\n            dataList.push({\n              ...latte,\n            });\n            this.setState({\n              ...this.state,\n              isModalOpen: false,\n              isEditMode: false,\n              latteDataList: dataList,\n            });\n          })\n          .catch((err) => {\n            const msg = err.response ? err.response.status : err.message;\n            this.setState({\n              ...this.state,\n              isModalOpen: false,\n              isEditMode: false,\n              userMessage: {\n                render: true,\n                message: msg,\n                level: MessageLevel.error,\n              },\n            });\n          });\n      } catch (err) {\n        this.setState({\n          ...this.state,\n          isModalOpen: false,\n          isEditMode: false,\n          userMessage: {\n            render: true,\n            message: err.response.status,\n            level: MessageLevel.error,\n          },\n        });\n      }\n    }\n  };\n\n  render() {\n    const renderModal = () => {\n      if (this.state.isModalOpen)\n        return (\n          <LatteModal\n            display={this.state.isModalOpen}\n            editMode={this.state.isEditMode}\n            latte={this.state.latteToEdit}\n            closeModal={this.closeModal}\n            handleForm={this.handleForm}\n            removeLatte={this.removeLatte}\n          />\n        );\n    };\n\n    const renderCreateLatte = () => {\n      if (this.state.isAuthorized)\n        return <CreateLatte openModal={() => this.openModal} />;\n    };\n\n    const renderUserMessage = () => {\n      const msg = this.state.userMessage;\n      if (msg.render) {\n        return <Messages {...msg} close={() => this.closeAlert} />;\n      }\n    };\n\n    return (\n      <Router>\n        <div className={styles.body}>\n          <Header />\n          <Main>\n            <Switch>\n              <Route exact path=\"/latte-machine\">\n                <Home />\n              </Route>\n              <Route exact path=\"/latte-machine/lattes\">\n                {renderUserMessage()}\n                {renderModal()}\n                {renderCreateLatte()}\n                <Lattes\n                  latteList={this.state.latteDataList}\n                  edit={this.editLatte}\n                />\n              </Route>\n              <Route exact path=\"/latte-machine/user\">\n                <User\n                  token={this.state.authToken}\n                  hangleLogout={() => this.hangleLogout}\n                />\n              </Route>\n            </Switch>\n          </Main>\n          <Footer />\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"User_container__1ilfr\",\"userBox\":\"User_userBox__3yOKW\",\"login\":\"User_login__23UTZ\",\"textBox\":\"User_textBox__2wVjr\"};"],"sourceRoot":""}